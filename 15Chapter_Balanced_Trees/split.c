#include <stdio.h>
#include <stdlib.h>

/* This procedure fixes the colors after a rotation and also restarts x high
 * enough in the tree to ensure that the search doesn't get lost due to all the link changes. */

split(int v)
{
	x->red = 1; 
	x->l->red = 0; 
	x->r->red = 0; 
	if (p->red)
	{
		g->red = l; 
		if (v<g->key != v<p->key)
			p = rotate(v,g); 
		x = rotate(v, gg); 
		red->red = 0; 
	}
	head->r->red = 0; 
}
